descriptions:
- lang: en
  value: "In the Linux kernel, the following vulnerability has been resolved:\n\n\
    tmpfs: fix race on handling dquot rbtree\n\nA syzkaller reproducer found a race\
    \ while attempting to remove dquot\ninformation from the rb tree.\n\nFetching\
    \ the rb_tree root node must also be protected by the\ndqopt->dqio_sem, otherwise,\
    \ giving the right timing, shmem_release_dquot()\nwill trigger a warning because\
    \ it couldn't find a node in the tree, when\nthe real reason was the root node\
    \ changing before the search starts:\n\nThread 1\t\t\t\tThread 2\n- shmem_release_dquot()\t\
    \t\t- shmem_{acquire,release}_dquot()\n\n- fetch ROOT\t\t\t\t- Fetch ROOT\n\n\t\
    \t\t\t\t- acquire dqio_sem\n- wait dqio_sem\n\n\t\t\t\t\t- do something, triger\
    \ a tree rebalance\n\t\t\t\t\t- release dqio_sem\n\n- acquire dqio_sem\n- start\
    \ searching for the node, but\n  from the wrong location, missing\n  the node,\
    \ and triggering a warning."
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: tmpfs:\
    \ corrige la ejecuci\xF3n al manejar dquot rbtree Un reproductor syzkaller encontr\xF3\
    \ una ejecuci\xF3n al intentar eliminar informaci\xF3n de dquot del \xE1rbol rb.\
    \ La recuperaci\xF3n del nodo ra\xEDz de rb_tree tambi\xE9n debe estar protegida\
    \ por dqopt-&gt;dqio_sem; de lo contrario, si se da el momento adecuado, shmem_release_dquot()\
    \ activar\xE1 una advertencia porque no pudo encontrar un nodo en el \xE1rbol,\
    \ cuando la verdadera raz\xF3n era el nodo ra\xEDz. cambiando antes de que comience\
    \ la b\xFAsqueda: Hilo 1 Hilo 2 - shmem_release_dquot() - shmem_{acquire,release}_dquot()\
    \ - buscar ROOT - Obtener ROOT - adquirir dqio_sem - esperar dqio_sem - hacer\
    \ algo, activar un reequilibrio de \xE1rbol - liberar dqio_sem - adquirir dqio_sem\
    \ - comienza a buscar el nodo, pero desde la ubicaci\xF3n incorrecta, pierde el\
    \ nodo y genera una advertencia."
id: CVE-2024-27058
lastModified: '2024-05-01T19:50:25.633'
metrics: {}
published: '2024-05-01T13:15:50.450'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0a69b6b3a026543bc215ccc866d0aea5579e6ce2
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/617d55b90e73c7b4aa2733ca6cc3f9b72d1124bb
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/c7077f43f30d817d10a9f8245e51576ac114b2f0
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/f82f184874d2761ebaa60dccf577921a0dbb3810
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
