cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    ext4: do not create EA inode under buffer lock


    ext4_xattr_set_entry() creates new EA inodes while holding buffer lock

    on the external xattr block. This is problematic as it nests all the

    allocation locking (which acquires locks on other buffers) under the

    buffer lock. This can even deadlock when the filesystem is corrupted and

    e.g. quota file is setup to contain xattr block as data block. Move the

    allocation of EA inode out of ext4_xattr_set_entry() into the callers.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: ext4:\
    \ no crear inodo EA bajo bloqueo de b\xFAfer ext4_xattr_set_entry() crea nuevos\
    \ inodos EA mientras mantiene el bloqueo de b\xFAfer en el bloque xattr externo.\
    \ Esto es problem\xE1tico ya que anida todo el bloqueo de asignaci\xF3n (que adquiere\
    \ bloqueos en otros b\xFAfer) bajo el bloqueo del b\xFAfer. Esto puede incluso\
    \ bloquearse cuando el sistema de archivos est\xE1 da\xF1ado y, por ejemplo, el\
    \ archivo de cuota est\xE1 configurado para contener el bloque xattr como bloque\
    \ de datos. Mueva la asignaci\xF3n del inodo EA de ext4_xattr_set_entry() a las\
    \ personas que llaman."
id: CVE-2024-40972
lastModified: '2024-08-29T17:15:07.830'
metrics: {}
published: '2024-07-12T13:15:18.820'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0752e7fb549d90c33b4d4186f11cfd25a556d1dd
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0a46ef234756dca04623b7591e8ebb3440622f0b
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/111103907234bffd0a34fba070ad9367de058752
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/737fb7853acd5bc8984f6f42e4bfba3334be8ae1
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
