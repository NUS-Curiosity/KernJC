configurations:
- nodes:
  - cpeMatch:
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 247198E8-0497-4DB2-A365-EEEC6A2C8D19
      versionEndExcluding: 6.1.84
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: D15F9C27-5FEC-4D9D-9C75-6CB330C0B299
      versionEndExcluding: 6.6.24
      versionStartIncluding: 6.2.0
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 0E4663C3-7D71-4DA9-9A13-EC2E448147C0
      versionEndExcluding: 6.7.12
      versionStartIncluding: 6.7.0
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 57497073-82D5-4695-AA8B-363CA1C033BD
      versionEndExcluding: 6.8.3
      versionStartIncluding: 6.8.0
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:6.9:r1:*:*:*:*:*:*
      matchCriteriaId: E1E2BC41-356E-412A-9B5D-9B5EFCB4E942
      vulnerable: true
    negate: false
    operator: OR
descriptions:
- lang: en
  value: "In the Linux kernel, the following vulnerability has been resolved:\n\n\
    USB: core: Fix deadlock in port \"disable\" sysfs attribute\n\nThe show and store\
    \ callback routines for the \"disable\" sysfs attribute\nfile in port.c acquire\
    \ the device lock for the port's parent hub\ndevice.  This can cause problems\
    \ if another process has locked the hub\nto remove it or change its configuration:\n\
    \n\tRemoving the hub or changing its configuration requires the\n\thub interface\
    \ to be removed, which requires the port device\n\tto be removed, and device_del()\
    \ waits until all outstanding\n\tsysfs attribute callbacks for the ports have\
    \ returned.  The\n\tlock can't be released until then.\n\n\tBut the disable_show()\
    \ or disable_store() routine can't return\n\tuntil after it has acquired the lock.\n\
    \nThe resulting deadlock can be avoided by calling\nsysfs_break_active_protection().\
    \  This will cause the sysfs core not\nto wait for the attribute's callback routine\
    \ to return, allowing the\nremoval to proceed.  The disadvantage is that after\
    \ making this call,\nthere is no guarantee that the hub structure won't be deallocated\
    \ at\nany moment.  To prevent this, we have to acquire a reference to it\nfirst\
    \ by calling hub_get()."
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: USB:\
    \ core: corrige el punto muerto en el atributo sysfs \"disable\" del puerto. Las\
    \ rutinas de devoluci\xF3n de llamada para mostrar y almacenar para el archivo\
    \ del atributo sysfs \"disable\" en port.c adquieren el bloqueo del dispositivo\
    \ para el puerto. dispositivo central principal. Esto puede causar problemas si\
    \ otro proceso ha bloqueado el concentrador para eliminarlo o cambiar su configuraci\xF3\
    n: Quitar el concentrador o cambiar su configuraci\xF3n requiere que se elimine\
    \ la interfaz del concentrador, lo que requiere que se elimine el dispositivo\
    \ del puerto, y device_del() espera hasta que todo Se han devuelto devoluciones\
    \ de llamadas de atributos sysfs pendientes para los puertos. El bloqueo no podr\xE1\
    \ desbloquearse hasta entonces. Pero la rutina enable_show() o enable_store()\
    \ no puede regresar hasta que haya adquirido el bloqueo. El punto muerto resultante\
    \ se puede evitar llamando a sysfs_break_active_protection(). Esto har\xE1 que\
    \ el n\xFAcleo de sysfs no espere a que regrese la rutina de devoluci\xF3n de\
    \ llamada del atributo, lo que permitir\xE1 que contin\xFAe la eliminaci\xF3n.\
    \ La desventaja es que despu\xE9s de realizar esta llamada, no hay garant\xED\
    a de que la estructura del centro no se desasignar\xE1 en ning\xFAn momento. Para\
    \ evitar esto, primero debemos adquirir una referencia llamando a hub_get()."
id: CVE-2024-26933
lastModified: '2024-05-23T19:12:43.773'
metrics:
  cvssMetricV31:
  - cvssData:
      attackComplexity: LOW
      attackVector: LOCAL
      availabilityImpact: HIGH
      baseScore: 7.8
      baseSeverity: HIGH
      confidentialityImpact: HIGH
      integrityImpact: HIGH
      privilegesRequired: LOW
      scope: UNCHANGED
      userInteraction: NONE
      vectorString: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H
      version: '3.1'
    exploitabilityScore: 1.8
    impactScore: 5.9
    source: nvd@nist.gov
    type: Primary
published: '2024-05-01T06:15:07.930'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/4facc9421117ba9d8148c73771b213887fec77f7
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/73d1589b91f2099e5f6534a8497b7c6b527e064e
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/9dac54f08198147f5ec0ec52fcf1bc8ac899ac05
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/f4d1960764d8a70318b02f15203a1be2b2554ca1
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/f51849833705dea5b4f9b0c8de714dd87bd6c95c
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Analyzed
weaknesses:
- description:
  - lang: en
    value: CWE-667
  source: nvd@nist.gov
  type: Primary
