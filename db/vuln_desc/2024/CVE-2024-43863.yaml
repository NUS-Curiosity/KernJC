configurations:
- nodes:
  - cpeMatch:
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: A02B7BA9-C2B0-475F-9401-338FBF89D50C
      versionEndExcluding: 5.15.165
      versionStartIncluding: '3.18'
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 20DB9042-F89E-4024-B005-ACBBA99CA659
      versionEndExcluding: 6.1.104
      versionStartIncluding: '5.16'
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 6ED8FBDF-48EE-4FEB-8B1A-CFF4FBCB27BF
      versionEndExcluding: 6.6.45
      versionStartIncluding: '6.2'
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 1F9FECDC-6CB8-41E5-B32A-E46776100D9C
      versionEndExcluding: 6.10.4
      versionStartIncluding: '6.7'
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:6.11:rc1:*:*:*:*:*:*
      matchCriteriaId: 8B3CE743-2126-47A3-8B7C-822B502CF119
      vulnerable: true
    negate: false
    operator: OR
cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    drm/vmwgfx: Fix a deadlock in dma buf fence polling


    Introduce a version of the fence ops that on release doesn''t remove

    the fence from the pending list, and thus doesn''t require a lock to

    fix poll->fence wait->fence unref deadlocks.


    vmwgfx overwrites the wait callback to iterate over the list of all

    fences and update their status, to do that it holds a lock to prevent

    the list modifcations from other threads. The fence destroy callback

    both deletes the fence and removes it from the list of pending

    fences, for which it holds a lock.


    dma buf polling cb unrefs a fence after it''s been signaled: so the poll

    calls the wait, which signals the fences, which are being destroyed.

    The destruction tries to acquire the lock on the pending fences list

    which it can never get because it''s held by the wait from which it

    was called.


    Old bug, but not a lot of userspace apps were using dma-buf polling

    interfaces. Fix those, in particular this fixes KDE stalls/deadlock.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: drm/vmwgfx:\
    \ soluciona un punto muerto en el sondeo de valla de dma buf. Introduce una versi\xF3\
    n de las operaciones de valla que, al lanzarse, no elimina la valla de la lista\
    \ de pendientes y, por tanto, no requiere un bloqueo para arreglar los puntos\
    \ muertos de encuesta-&gt;espera de valla-&gt;cerca sin referencia. vmwgfx sobrescribe\
    \ la devoluci\xF3n de llamada de espera para iterar sobre la lista de todas las\
    \ barreras y actualizar su estado; para ello, mantiene un bloqueo para evitar\
    \ que otros subprocesos modifiquen la lista. La devoluci\xF3n de llamada de destrucci\xF3\
    n de valla elimina la valla y la elimina de la lista de vallas pendientes, para\
    \ las cuales mantiene un bloqueo. dma buf polling cb desrefs una valla despu\xE9\
    s de haber sido se\xF1alada: entonces la encuesta llama a la espera, lo que se\xF1\
    ala las vallas que est\xE1n siendo destruidas. La destrucci\xF3n intenta adquirir\
    \ el bloqueo en la lista de vallas pendientes que nunca puede conseguir porque\
    \ est\xE1 retenido por la espera desde la que fue llamado. Error antiguo, pero\
    \ no muchas aplicaciones de espacio de usuario usaban interfaces de sondeo dma-buf.\
    \ Solucionarlos, en particular esto soluciona los bloqueos/bloqueos de KDE."
id: CVE-2024-43863
lastModified: '2024-09-03T13:42:44.727'
metrics:
  cvssMetricV31:
  - cvssData:
      attackComplexity: LOW
      attackVector: LOCAL
      availabilityImpact: HIGH
      baseScore: 5.5
      baseSeverity: MEDIUM
      confidentialityImpact: NONE
      integrityImpact: NONE
      privilegesRequired: LOW
      scope: UNCHANGED
      userInteraction: NONE
      vectorString: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
      version: '3.1'
    exploitabilityScore: 1.8
    impactScore: 3.6
    source: nvd@nist.gov
    type: Primary
published: '2024-08-21T00:15:04.847'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/3b933b16c996af8adb6bc1b5748a63dfb41a82bc
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/9e20d028d8d1deb1e7fed18f22ffc01669cf3237
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/a8943969f9ead2fd3044fc826140a21622ef830e
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/c98ab18b9f315ff977c2c65d7c71298ef98be8e3
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/e58337100721f3cc0c7424a18730e4f39844934f
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Analyzed
weaknesses:
- description:
  - lang: en
    value: CWE-667
  source: nvd@nist.gov
  type: Primary
