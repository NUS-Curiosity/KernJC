cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    net/mlx5e: Use a memory barrier to enforce PTP WQ xmit submission tracking occurs
    after populating the metadata_map


    Just simply reordering the functions mlx5e_ptp_metadata_map_put and

    mlx5e_ptpsq_track_metadata in the mlx5e_txwqe_complete context is not good

    enough since both the compiler and CPU are free to reorder these two

    functions. If reordering does occur, the issue that was supposedly fixed by

    7e3f3ba97e6c ("net/mlx5e: Track xmit submission to PTP WQ after populating

    metadata map") will be seen. This will lead to NULL pointer dereferences in

    mlx5e_ptpsq_mark_ts_cqes_undelivered in the NAPI polling context due to the

    tracking list being populated before the metadata map.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: net/mlx5e:\
    \ use una barrera de memoria para aplicar PTP WQ. El seguimiento de env\xEDo xmit\
    \ ocurre despu\xE9s de completar metadata_map. Simplemente reordenar las funciones\
    \ mlx5e_ptp_metadata_map_put y mlx5e_ptpsq_track_metadata en el contexto mlx5e_txwqe_complete\
    \ no es lo suficientemente bueno ya que ambas el compilador y la CPU son libres\
    \ de reordenar estas dos funciones. Si se produce un reordenamiento, se ver\xE1\
    \ el problema que supuestamente fue solucionado por 7e3f3ba97e6c (\"net/mlx5e:\
    \ Seguimiento del env\xEDo de xmit a PTP WQ despu\xE9s de completar el mapa de\
    \ metadatos\"). Esto dar\xE1 lugar a desreferencias de puntero NULL en mlx5e_ptpsq_mark_ts_cqes_undelivered\
    \ en el contexto de sondeo NAPI debido a que la lista de seguimiento se completa\
    \ antes del mapa de metadatos."
id: CVE-2024-26858
lastModified: '2024-04-17T12:48:07.510'
metrics: {}
published: '2024-04-17T11:15:08.840'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/936ef086161ab89a7f38f7a0761d6a3063c3277e
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/b7cf07586c40f926063d4d09f7de28ff82f62b2a
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/d1f71615dbb305f14f3b756cce015d70d8667549
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
