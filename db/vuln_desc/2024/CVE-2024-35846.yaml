cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    mm: zswap: fix shrinker NULL crash with cgroup_disable=memory


    Christian reports a NULL deref in zswap that he bisected down to the zswap

    shrinker.  The issue also cropped up in the bug trackers of libguestfs [1]

    and the Red Hat bugzilla [2].


    The problem is that when memcg is disabled with the boot time flag, the

    zswap shrinker might get called with sc->memcg == NULL.  This is okay in

    many places, like the lruvec operations.  But it crashes in

    memcg_page_state() - which is only used due to the non-node accounting of

    cgroup''s the zswap memory to begin with.


    Nhat spotted that the memcg can be NULL in the memcg-disabled case, and I

    was then able to reproduce the crash locally as well.


    [1] https://github.com/libguestfs/libguestfs/issues/139

    [2] https://bugzilla.redhat.com/show_bug.cgi?id=2275252'
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: mm: zswap:\
    \ corrige el bloqueo NULL del reductor con cgroup_disable=memory. Christian informa\
    \ una deref NULL en zswap que dividi\xF3 en dos hasta el reductor zswap. El problema\
    \ tambi\xE9n surgi\xF3 en los rastreadores de errores de libguestfs [1] y Red\
    \ Hat bugzilla [2]. El problema es que cuando memcg est\xE1 deshabilitado con\
    \ el indicador de tiempo de arranque, es posible que se llame al reductor zswap\
    \ con sc-&gt;memcg == NULL. Esto est\xE1 bien en muchos lugares, como en las operaciones\
    \ de lruvec. Pero fallo en memcg_page_state(), que para empezar solo se usa debido\
    \ a la contabilidad sin nodos de la memoria zswap de cgroup. Nhat detect\xF3 que\
    \ memcg puede ser NULL en el caso de que memcg est\xE9 deshabilitado y luego tambi\xE9\
    n pude reproducir el fallo localmente. [1] https://github.com/libguestfs/libguestfs/issues/139\
    \ [2] https://bugzilla.redhat.com/show_bug.cgi?id=2275252"
id: CVE-2024-35846
lastModified: '2024-05-17T18:35:35.070'
metrics: {}
published: '2024-05-17T15:15:21.547'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/682886ec69d22363819a83ddddd5d66cb5c791e1
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/b0fdabc908a7f81d12382c87ca9e46a9c2e14042
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
