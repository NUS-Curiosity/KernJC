configurations:
- nodes:
  - cpeMatch:
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 11AA9FD7-8CF6-4561-A31F-2BD173451E8A
      versionEndExcluding: 6.1.100
      versionStartIncluding: '6.1'
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: 96AC42B8-D66D-4AC5-B466-E9BA7910FA29
      versionEndExcluding: 6.6.41
      versionStartIncluding: '6.2'
      vulnerable: true
    - criteria: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
      matchCriteriaId: AB2E8DEC-CFD5-4C2B-981D-E7E45A36C352
      versionEndExcluding: 6.9.10
      versionStartIncluding: '6.7'
      vulnerable: true
    negate: false
    operator: OR
cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    Revert "sched/fair: Make sure to try to detach at least one movable task"


    This reverts commit b0defa7ae03ecf91b8bfd10ede430cff12fcbd06.


    b0defa7ae03ec changed the load balancing logic to ignore env.max_loop if

    all tasks examined to that point were pinned. The goal of the patch was

    to make it more likely to be able to detach a task buried in a long list

    of pinned tasks. However, this has the unfortunate side effect of

    creating an O(n) iteration in detach_tasks(), as we now must fully

    iterate every task on a cpu if all or most are pinned. Since this load

    balance code is done with rq lock held, and often in softirq context, it

    is very easy to trigger hard lockups. We observed such hard lockups with

    a user who affined O(10k) threads to a single cpu.


    When I discussed this with Vincent he initially suggested that we keep

    the limit on the number of tasks to detach, but increase the number of

    tasks we can search. However, after some back and forth on the mailing

    list, he recommended we instead revert the original patch, as it seems

    likely no one was actually getting hit by the original issue.'
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: Revertir\
    \ \"programado/justo: aseg\xFArese de intentar desconectar al menos una tarea\
    \ m\xF3vil\". Esto revierte el commit b0defa7ae03ecf91b8bfd10ede430cff12fcbd06.\
    \ b0defa7ae03ec cambi\xF3 la l\xF3gica de equilibrio de carga para ignorar env.max_loop\
    \ si todas las tareas examinadas hasta ese punto estaban fijadas. El objetivo\
    \ del parche era hacer que fuera m\xE1s probable poder separar una tarea oculta\
    \ en una larga lista de tareas fijadas. Sin embargo, esto tiene el desafortunado\
    \ efecto secundario de crear una iteraci\xF3n O(n) en detach_tasks(), ya que ahora\
    \ debemos iterar completamente cada tarea en una CPU si todas o la mayor\xEDa\
    \ est\xE1n fijadas. Dado que este c\xF3digo de equilibrio de carga se realiza\
    \ con el bloqueo rq mantenido y, a menudo, en el contexto de softirq, es muy f\xE1\
    cil activar bloqueos duros. Observamos bloqueos tan dif\xEDciles con un usuario\
    \ que afin\xF3 O(10k) subprocesos a una sola CPU. Cuando habl\xE9 de esto con\
    \ Vincent, inicialmente sugiri\xF3 que mantuvi\xE9ramos el l\xEDmite en la cantidad\
    \ de tareas para separar, pero que increment\xE1ramos la cantidad de tareas que\
    \ podemos buscar. Sin embargo, despu\xE9s de algunos intercambios en la lista\
    \ de correo, recomend\xF3 que revirti\xE9ramos el parche original, ya que parece\
    \ probable que nadie se haya visto afectado por el problema original."
id: CVE-2024-42245
lastModified: '2024-08-08T14:53:19.530'
metrics:
  cvssMetricV31:
  - cvssData:
      attackComplexity: LOW
      attackVector: LOCAL
      availabilityImpact: HIGH
      baseScore: 5.5
      baseSeverity: MEDIUM
      confidentialityImpact: NONE
      integrityImpact: NONE
      privilegesRequired: LOW
      scope: UNCHANGED
      userInteraction: NONE
      vectorString: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
      version: '3.1'
    exploitabilityScore: 1.8
    impactScore: 3.6
    source: nvd@nist.gov
    type: Primary
published: '2024-08-07T16:15:47.230'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/0fa6dcbfa2e2b97c1e6febbea561badf0931a38b
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/1e116c18e32b035a2d1bd460800072c8bf96bc44
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/2feab2492deb2f14f9675dd6388e9e2bf669c27a
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  tags:
  - Patch
  url: https://git.kernel.org/stable/c/d467194018dd536fe6c65a2fd3aedfcdb1424903
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Analyzed
weaknesses:
- description:
  - lang: en
    value: CWE-667
  source: nvd@nist.gov
  type: Primary
