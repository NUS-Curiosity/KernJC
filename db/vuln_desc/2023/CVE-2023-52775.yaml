descriptions:
- lang: en
  value: "In the Linux kernel, the following vulnerability has been resolved:\n\n\
    net/smc: avoid data corruption caused by decline\n\nWe found a data corruption\
    \ issue during testing of SMC-R on Redis\napplications.\n\nThe benchmark has a\
    \ low probability of reporting a strange error as\nshown below.\n\n\"Error: Protocol\
    \ error, got \"\\xe2\" as reply type byte\"\n\nFinally, we found that the retrieved\
    \ error data was as follows:\n\n0xE2 0xD4 0xC3 0xD9 0x04 0x00 0x2C 0x20 0xA6 0x56\
    \ 0x00 0x16 0x3E 0x0C\n0xCB 0x04 0x02 0x01 0x00 0x00 0x20 0x00 0x00 0x00 0x00\
    \ 0x00 0x00 0x00\n0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0xE2\n\nIt\
    \ is quite obvious that this is a SMC DECLINE message, which means that\nthe applications\
    \ received SMC protocol message.\nWe found that this was caused by the following\
    \ situations:\n\nclient                  server\n        \xA6  clc proposal\n\
    \        ------------->\n        \xA6  clc accept\n        <-------------\n  \
    \      \xA6  clc confirm\n        ------------->\nwait llc confirm\n\t\t\tsend\
    \ llc confirm\n        \xA6failed llc confirm\n        \xA6   x------\n(after\
    \ 2s)timeout\n                        wait llc confirm rsp\n\nwait decline\n\n\
    (after 1s) timeout\n                        (after 2s) timeout\n        \xA6 \
    \  decline\n        -------------->\n        \xA6   decline\n        <--------------\n\
    \nAs a result, a decline message was sent in the implementation, and this\nmessage\
    \ was read from TCP by the already-fallback connection.\n\nThis patch double the\
    \ client timeout as 2x of the server value,\nWith this simple change, the Decline\
    \ messages should never cross or\ncollide (during Confirm link timeout).\n\nThis\
    \ issue requires an immediate solution, since the protocol updates\ninvolve a\
    \ more long-term solution."
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: net/smc:\
    \ evita la corrupci\xF3n de datos causada por el rechazo. Encontramos un problema\
    \ de corrupci\xF3n de datos durante las pruebas de SMC-R en aplicaciones Redis.\
    \ El punto de referencia tiene una baja probabilidad de informar un error extra\xF1\
    o, como se muestra a continuaci\xF3n. \"Error: Error de protocolo, obtuve \"\\\
    xe2\" como byte de tipo de respuesta\" Finalmente, encontramos que los datos de\
    \ error recuperados eran los siguientes: 0xE2 0xD4 0xC3 0xD9 0x04 0x00 0x2C 0x20\
    \ 0xA6 0x56 0x00 0x16 0x3E 0x0C 0xCB 0x04 0x02 1 0x00 0x00 0x20 0x00 0x00 0x00\
    \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0xE2 Es\
    \ bastante obvio que este es un mensaje SMC DECLINE, lo que significa que las\
    \ aplicaciones recibieron un mensaje de protocolo SMC. Descubrimos que esto se\
    \ deb\xEDa a las siguientes situaciones: cliente servidor \xA6 propuesta clc -------------&gt;\
    \ \xA6 clc aceptar &lt;------------- \xA6 clc confirmar -------------&gt; esperar\
    \ confirmaci\xF3n de llc enviar confirmaci\xF3n de llc \xA6 confirmaci\xF3n de\
    \ llc fallida \xA6 x------ (despu\xE9s de 2 s) tiempo de espera de espera llc\
    \ confirmar rsp esperar declinar (despu\xE9s de 1 s) tiempo de espera (despu\xE9\
    s de 2s) tiempo de espera \xA6 rechazo --------------&gt; \xA6 rechazo &lt;--------------\
    \ Como resultado, se envi\xF3 un mensaje de rechazo en la implementaci\xF3n, y\
    \ este mensaje fue le\xEDdo desde TCP por la conexi\xF3n que ya estaba en reserva.\
    \ Este parche duplica el tiempo de espera del cliente al doble del valor del servidor.\
    \ Con este simple cambio, los mensajes de rechazo nunca deber\xEDan cruzarse ni\
    \ colisionar (durante el tiempo de espera de confirmaci\xF3n del enlace). Este\
    \ problema requiere una soluci\xF3n inmediata, ya que las actualizaciones del\
    \ protocolo implican una soluci\xF3n a m\xE1s largo plazo."
id: CVE-2023-52775
lastModified: '2024-05-21T16:53:56.550'
metrics: {}
published: '2024-05-21T16:15:16.610'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/5ada292b5c504720a0acef8cae9acc62a694d19c
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/7234d2b5dffa5af77fd4e0deaebab509e130c6b1
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/90072af9efe8c7bd7d086709014ddd44cebd5e7c
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/94a0ae698b4d5d5bb598e23228002a1491c50add
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/e6d71b437abc2f249e3b6a1ae1a7228e09c6e563
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
