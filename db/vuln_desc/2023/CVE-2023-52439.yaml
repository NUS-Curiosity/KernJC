descriptions:
- lang: en
  value: "In the Linux kernel, the following vulnerability has been resolved:\n\n\
    uio: Fix use-after-free in uio_open\n\ncore-1\t\t\t\tcore-2\n-------------------------------------------------------\n\
    uio_unregister_device\t\tuio_open\n\t\t\t\tidev = idr_find()\ndevice_unregister(&idev->dev)\n\
    put_device(&idev->dev)\nuio_device_release\n\t\t\t\tget_device(&idev->dev)\nkfree(idev)\n\
    uio_free_minor(minor)\n\t\t\t\tuio_release\n\t\t\t\tput_device(&idev->dev)\n\t\
    \t\t\tkfree(idev)\n-------------------------------------------------------\n\n\
    In the core-1 uio_unregister_device(), the device_unregister will kfree\nidev\
    \ when the idev->dev kobject ref is 1. But after core-1\ndevice_unregister, put_device\
    \ and before doing kfree, the core-2 may\nget_device. Then:\n1. After core-1 kfree\
    \ idev, the core-2 will do use-after-free for idev.\n2. When core-2 do uio_release\
    \ and put_device, the idev will be double\n   freed.\n\nTo address this issue,\
    \ we can get idev atomic & inc idev reference with\nminor_lock."
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: uio:\
    \ corrige use-after-free en uio_open core-1 core-2 -------------------------------------------------------\
    \ uio_unregister_device uio_open idev = idr_find() device_unregister(&amp;idev-&gt;dev)\
    \ put_device(&amp;idev-&gt;dev) uio_device_release get_device(&amp;idev-&gt;dev)\
    \ kfree(idev) uio_free_minor(minor) uio_release put_device(&amp;idev-&gt;dev)\
    \ kfree(idev) ------------------------------------------------------- In the core-1\
    \ uio_unregister_device(), the device_unregister se liberar\xE1 idev cuando la\
    \ referencia del objeto idev-&gt;dev kobject es 1. But after core-1 device_unregister,\
    \ put_device and before doing kfree, the core-2 may get_device. Then: 1. After\
    \ core-1 kfree idev, the core-2 will do use-after-free for idev. 2. When core-2\
    \ do uio_release and put_device, el idev se liberar\xE1 dos veces. Para solucionar\
    \ este problema, podemos obtener la referencia de idev atomic &amp; inc idev con\
    \ minor_lock."
id: CVE-2023-52439
lastModified: '2024-02-20T21:52:55.187'
metrics: {}
published: '2024-02-20T21:15:08.213'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0c9ae0b8605078eafc3bea053cc78791e97ba2e2
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/17a8519cb359c3b483fb5c7367efa9a8a508bdea
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/3174e0f7de1ba392dc191625da83df02d695b60c
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/35f102607054faafe78d2a6994b18d5d9d6e92ad
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/5cf604ee538ed0c467abe3b4cda5308a6398f0f7
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/5e0be1229ae199ebb90b33102f74a0f22d152570
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/913205930da6213305616ac539447702eaa85e41
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/e93da893d52d82d57fc0db2ca566024e0f26ff50
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
